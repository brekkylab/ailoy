"use strict";(self.webpackChunkailoy_docs=self.webpackChunkailoy_docs||[]).push([[1373],{1633:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"tutorial/rag-using-documents","title":"\ubb38\uc11c\ub97c \ud65c\uc6a9\ud55c RAG","description":"RAG(Retrieval-Augmented Generation) \ub294 AI \ubaa8\ub378\uc774 \ucd94\ub860 \uacfc\uc815\uc5d0\uc11c \uc0ac\uc6a9\uc790\uc758","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/tutorial/rag-using-documents.mdx","sourceDirName":"tutorial","slug":"/tutorial/rag-using-documents","permalink":"/ailoy/ko/docs/tutorial/rag-using-documents","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"documentSidebar","previous":{"title":"MCP \ud1b5\ud569","permalink":"/ailoy/ko/docs/tutorial/mcp-integration"},"next":{"title":"\ubaa8\ub378 \ud30c\uc77c \uad00\ub9ac","permalink":"/ailoy/ko/docs/tutorial/managing-model-files"}}');var t=a(4848),i=a(8453);const s={},r="\ubb38\uc11c\ub97c \ud65c\uc6a9\ud55c RAG",d={},l=[{value:"\ub2e8\uacc4\ubcc4 \uac00\uc774\ub4dc",id:"\ub2e8\uacc4\ubcc4-\uac00\uc774\ub4dc",level:2},{value:"\uc784\ubca0\ub529 \ubaa8\ub378\uacfc \ubca1\ud130 \uc2a4\ud1a0\uc5b4 \ucd08\uae30\ud654",id:"\uc784\ubca0\ub529-\ubaa8\ub378\uacfc-\ubca1\ud130-\uc2a4\ud1a0\uc5b4-\ucd08\uae30\ud654",level:3},{value:"\ubca1\ud130 \uc2a4\ud1a0\uc5b4\ub85c \ubb38\uc11c \uc900\ube44\ud558\uae30",id:"\ubca1\ud130-\uc2a4\ud1a0\uc5b4\ub85c-\ubb38\uc11c-\uc900\ube44\ud558\uae30",level:3},{value:"Knowledge\ub97c \ud3ec\ud568\ud55c \uc5d0\uc774\uc804\ud2b8 \uc815\uc758",id:"knowledge\ub97c-\ud3ec\ud568\ud55c-\uc5d0\uc774\uc804\ud2b8-\uc815\uc758",level:3},{value:"RAG \uc218\ud589\ud558\uae30",id:"rag-\uc218\ud589\ud558\uae30",level:3},{value:"\uc804\uccb4 \uc608\uc81c",id:"\uc804\uccb4-\uc608\uc81c",level:2},{value:"\ucd9c\ub825",id:"\ucd9c\ub825",level:2}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{TabItem:a,Tabs:o,TerminalBox:s}=n;return a||g("TabItem",!0),o||g("Tabs",!0),s||g("TerminalBox",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\ubb38\uc11c\ub97c-\ud65c\uc6a9\ud55c-rag",children:"\ubb38\uc11c\ub97c \ud65c\uc6a9\ud55c RAG"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)("strong",{children:"RAG(Retrieval-Augmented Generation)"})," \ub294 AI \ubaa8\ub378\uc774 \ucd94\ub860 \uacfc\uc815\uc5d0\uc11c \uc0ac\uc6a9\uc790\uc758\n\ubb38\uc11c\ub97c \ud65c\uc6a9\ud560 \uc218 \uc788\uac8c \ud574\uc90d\ub2c8\ub2e4. \ubaa8\ub378 \ud559\uc2b5 \uc911\uc5d0 \uc2b5\ub4dd\ud55c \uc815\ubcf4\uc5d0\ub9cc \uc758\uc874\ud558\ub294 \ub300\uc2e0,\nRAG\ub97c \ud1b5\ud574 \ubaa8\ub378\uc740 \uc678\ubd80 \uc18c\uc2a4\uc5d0\uc11c \uad00\ub828 \uc9c0\uc2dd\uc744 \ub3d9\uc801\uc73c\ub85c \uac80\uc0c9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,t.jsx)(n.p,{children:"\uc774\ub97c \ud1b5\ud574 AI\ub294 \ubb38\uc11c \ub370\uc774\ud130\uc5d0 \uae30\ubc18\ud558\uc5ec \ub354 \uc815\ud655\ud558\uace0, \ucd5c\uc2e0\uc774\uba70, \ucee8\ud14d\uc2a4\ud2b8\ub97c \uc778\uc2dd\ud558\ub294\n\uc751\ub2f5\uc744 \uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Ailoy"}),"\uc5d0\uc11c RAG\ub294 ",(0,t.jsx)(n.code,{children:"Agent"})," \uc678\uc5d0 \uc138 \uac00\uc9c0 \ud575\uc2ec \uad6c\uc131 \uc694\uc18c\ub85c \uc774\ub8e8\uc5b4\uc9d1\ub2c8\ub2e4:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"EmbeddingModel"})})," \u2014 \uc720\uc0ac\ub3c4 \uac80\uc0c9\uc744 \uc704\ud574 \ud14d\uc2a4\ud2b8\ub97c \ubca1\ud130 \ud45c\ud604\uc73c\ub85c \ubcc0\ud658\ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"VectorStore"})})," \u2014 \ubca1\ud130\uc640 \uc6d0\ubcf8 \ud14d\uc2a4\ud2b8\ub97c \uc800\uc7a5\ud558\uace0 \uac80\uc0c9\ud569\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"Knowledge"})})," \u2014 \uac80\uc0c9\uc744 \uc218\ud589\ud558\uace0 \uadf8 \uacb0\uacfc\ub97c \uc5d0\uc774\uc804\ud2b8\uc758 \ud504\ub86c\ud504\ud2b8\uc5d0 \uc804\ub2ec\ud558\ub294\n\ub7f0\ud0c0\uc784 \ucef4\ud3ec\ub10c\ud2b8\uc785\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\uc900\ube44 \ub2e8\uacc4"}),"\uc5d0\uc11c\ub294 ",(0,t.jsx)(n.code,{children:"EmbeddingModel"}),"\uc744 \uc0ac\uc6a9\ud558\uc5ec \ubb38\uc11c\ub97c \uc778\ucf54\ub529\ud558\uace0\n",(0,t.jsx)(n.code,{children:"VectorStore"}),"\uc5d0 \uc800\uc7a5\ud569\ub2c8\ub2e4. ",(0,t.jsx)(n.strong,{children:"\ub7f0\ud0c0\uc784 \ub2e8\uacc4"}),"\uc5d0\uc11c\ub294 ",(0,t.jsx)(n.code,{children:"Knowledge"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \uac01\n\ucffc\ub9ac\uc5d0 \ub300\ud574 \uad00\ub828 \ubb38\uc11c\ub97c \uac80\uc0c9\ud558\uace0 \uc5d0\uc774\uc804\ud2b8\uc758 \ucee8\ud14d\uc2a4\ud2b8\uc5d0 \ud3ec\ud568\uc2dc\ud0b5\ub2c8\ub2e4."]}),"\n",(0,t.jsxs)(n.p,{children:["\uc790\uc138\ud55c \ub0b4\uc6a9\uc740 ",(0,t.jsx)(n.a,{href:"../concepts/architecture#knowledge",children:(0,t.jsx)(n.strong,{children:"\uc544\ud0a4\ud14d\ucc98"})})," \uc139\uc158\uc744\n\ucc38\uc870\ud558\uc138\uc694."]}),"\n",(0,t.jsx)(n.h2,{id:"\ub2e8\uacc4\ubcc4-\uac00\uc774\ub4dc",children:"\ub2e8\uacc4\ubcc4 \uac00\uc774\ub4dc"}),"\n",(0,t.jsx)(n.h3,{id:"\uc784\ubca0\ub529-\ubaa8\ub378\uacfc-\ubca1\ud130-\uc2a4\ud1a0\uc5b4-\ucd08\uae30\ud654",children:"\uc784\ubca0\ub529 \ubaa8\ub378\uacfc \ubca1\ud130 \uc2a4\ud1a0\uc5b4 \ucd08\uae30\ud654"}),"\n","\n",(0,t.jsxs)(o,{groupId:"code-language",children:[(0,t.jsx)(a,{value:"python",label:"Python",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import ailoy as ai\n\nasync def prepare_knowledge():\n    # \uc784\ubca0\ub529 \ubaa8\ub378 \uc0dd\uc131\n    model = await ai.EmbeddingModel.new_local(\n        model_name="BAAI/bge-m3",\n        progress_callback=print,\n    )\n    # \ucc28\uc6d0 1024\uc758 \ubca1\ud130 \uc2a4\ud1a0\uc5b4 \uc0dd\uc131\n    vs = ai.VectorStore.new_faiss(dim=1024)\n\nif __name__ == "__main__":\n    asyncio.run(prepare_knowledge())\n'})})}),(0,t.jsx)(a,{value:"javascript",label:"JavaScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import * as ai from "ailoy-node";\n\nasync function prepare_knowledge() {\n  // \uc784\ubca0\ub529 \ubaa8\ub378 \uc0dd\uc131\n  const model = await ai.EmbeddingModel.newLocal(\n    "BAAI/bge-m3", // modelName\n    {\n      progressCallback: console.log,\n    }\n  );\n  // \ucc28\uc6d0 1024\uc758 \ubca1\ud130 \uc2a4\ud1a0\uc5b4 \uc0dd\uc131\n  const vs = await ai.VectorStore.newFaiss(1024);\n}\n\nprepare_knowledge().catch((err) => {\n  console.error("Error:", err);\n});\n'})})}),(0,t.jsx)(a,{value:"web",label:"JavaScript(Web)",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"web showLineNumbers",children:'import * as ai from "ailoy-web";\n\nasync function prepare_knowledge() {\n  // \uc784\ubca0\ub529 \ubaa8\ub378 \uc0dd\uc131\n  const model = await ai.EmbeddingModel.newLocal(\n    "BAAI/bge-m3", // modelName\n    {\n      progressCallback: console.log,\n    }\n  );\n  // \ucc28\uc6d0 1024\uc758 \ubca1\ud130 \uc2a4\ud1a0\uc5b4 \uc0dd\uc131\n  const vs = await ai.VectorStore.newFaiss(1024);\n}\n\nprepare_knowledge().catch((err) => {\n  console.error("Error:", err);\n});\n'})})})]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["\ud604\uc7ac \uc9c0\uc6d0\ub418\ub294 \uc784\ubca0\ub529 \ubaa8\ub378\uc740 ",(0,t.jsx)(n.a,{href:"https://huggingface.co/BAAI/bge-m3",children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"BAAI/bge-m3"})})}),"\ub9cc \uc788\uc2b5\ub2c8\ub2e4. \ud5a5\ud6c4 \ub9b4\ub9ac\uc2a4\uc5d0\uc11c \ucd94\uac00 \uc784\ubca0\ub529 \ubaa8\ub378\uc774 \uc9c0\uc6d0\ub420 \uc608\uc815\uc785\ub2c8\ub2e4."]})}),"\n","\n",(0,t.jsx)(n.h3,{id:"\ubca1\ud130-\uc2a4\ud1a0\uc5b4\ub85c-\ubb38\uc11c-\uc900\ube44\ud558\uae30",children:"\ubca1\ud130 \uc2a4\ud1a0\uc5b4\ub85c \ubb38\uc11c \uc900\ube44\ud558\uae30"}),"\n",(0,t.jsx)(n.p,{children:"RAG\ub97c \uc2e4\ud589\ud558\uae30 \uc804\uc5d0 \uac80\uc0c9\uc744 \uc704\ud55c \ubb38\uc11c \uc784\ubca0\ub529\uc744 \uc800\uc7a5\ud560 \ubca1\ud130 \uc2a4\ud1a0\uc5b4\ub97c \uc0dd\uc131\ud569\ub2c8\ub2e4.\n\uc774 \ub2e8\uacc4\ub294 \uc2dc\ub9e8\ud2f1 \uac80\uc0c9\uc744 \uc704\ud55c \ub370\uc774\ud130\ub97c \uc900\ube44\ud558\uba70, \uc77c\ubc18\uc801\uc73c\ub85c \ub370\uc774\ud130\uc14b\ub2f9 \ud55c \ubc88\ub9cc\n\uc218\ud589\ud558\uba74 \ub429\ub2c8\ub2e4."}),"\n","\n",(0,t.jsxs)(o,{groupId:"code-language",children:[(0,t.jsx)(a,{value:"python",label:"Python",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import asyncio\n\nimport ailoy as ai\n\nCHUNKS = [...]\n\nasync def prepare_knowledge() -> ai.Knowledge:\n    model = await ai.EmbeddingModel.new_local("BAAI/bge-m3")\n    vs = ai.VectorStore.new_faiss(1024)\n    for i, chunk in enumerate(CHUNKS):\n        # \uccad\ud06c\ub97c \uc2dc\ub9e8\ud2f1 \ubca1\ud130\ub85c \uc784\ubca0\ub529\n        embedding = await model.infer(chunk)\n        # \uc2dc\ub9e8\ud2f1 \ubca1\ud130 \uc800\uc7a5\n        vs.add_vector(\n            ai.VectorStoreAddInput(\n                embedding,\n                chunk,\n                {"title": "The Old Man and the Sea", "index": i}\n            )\n        )\n\n    # \ubca1\ud130 \uc2a4\ud1a0\uc5b4\ub97c \uae30\ubc18\uc73c\ub85c knowledge \uc0dd\uc131\n    return ai.Knowledge.new_vector_store(vs, model)\n\nif __name__ == "__main__":\n    asyncio.run(prepare_knowledge())\n'})})}),(0,t.jsx)(a,{value:"javascript",label:"JavaScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import * as ai from "ailoy-node";\n\nconst CHUNKS = [...];\n\nasync function prepare_knowledge() {\n  const model = await ai.EmbeddingModel.newLocal("BAAI/bge-m3");\n  const vs = await ai.VectorStore.newFaiss(1024);\n  for (const [i, chunk] of CHUNKS.entries()) {\n    // \uccad\ud06c\ub97c \uc2dc\ub9e8\ud2f1 \ubca1\ud130\ub85c \uc784\ubca0\ub529\n    const embedding = await model.infer(chunk);\n    // \uc2dc\ub9e8\ud2f1 \ubca1\ud130 \uc800\uc7a5\n    await vs.addVector({\n      embedding: embedding,\n      document: chunk,\n      metadata: {\n        title: "The Old Man and the Sea",\n        index: i,\n      },\n    });\n  }\n\n  // \ubca1\ud130 \uc2a4\ud1a0\uc5b4\ub97c \uae30\ubc18\uc73c\ub85c knowledge \uc0dd\uc131\n  return ai.Knowledge.newVectorStore(vs, model);\n}\n\nprepare_knowledge().catch((err) => {\n  console.error("Error:", err);\n});\n'})})}),(0,t.jsx)(a,{value:"web",label:"JavaScript(Web)",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"web showLineNumbers",children:'import * as ai from "ailoy-web";\n\nconst CHUNKS = [...];\n\nasync function prepare_knowledge() {\n  const model = await ai.EmbeddingModel.newLocal("BAAI/bge-m3");\n  const vs = await ai.VectorStore.newFaiss(1024);\n  for (const [i, chunk] of CHUNKS.entries()) {\n    // \uccad\ud06c\ub97c \uc2dc\ub9e8\ud2f1 \ubca1\ud130\ub85c \uc784\ubca0\ub529\n    const embedding = await model.infer(chunk);\n    // \uc2dc\ub9e8\ud2f1 \ubca1\ud130 \uc800\uc7a5\n    await vs.addVector({\n      embedding: embedding,\n      document: chunk,\n      metadata: {\n        title: "The Old Man and the Sea",\n        index: i,\n      },\n    });\n  }\n\n  // \ubca1\ud130 \uc2a4\ud1a0\uc5b4\ub97c \uae30\ubc18\uc73c\ub85c knowledge \uc0dd\uc131\n  return ai.Knowledge.newVectorStore(vs, model);\n}\n\nprepare_knowledge().catch((err) => {\n  console.error("Error:", err);\n});\n\n'})})})]}),"\n","\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Ailoy\ub294 \ud604\uc7ac \ubca1\ud130 \uc2a4\ud1a0\uc5b4 \ubc31\uc5d4\ub4dc\ub85c\n",(0,t.jsx)(n.a,{href:"https://github.com/facebookresearch/faiss",children:(0,t.jsx)(n.strong,{children:"FAISS"})}),"\uc640\n",(0,t.jsx)(n.a,{href:"https://www.trychroma.com/",children:(0,t.jsx)(n.strong,{children:"ChromaDB"})}),"\ub97c \ubaa8\ub450 \uc9c0\uc6d0\ud569\ub2c8\ub2e4. \ubc31\uc5d4\ub4dc\ubcc4 \uc635\uc158\uc740\n\uacf5\uc2dd \uad6c\uc131 \uac00\uc774\ub4dc\ub97c \ucc38\uc870\ud558\uc138\uc694."]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"knowledge\ub97c-\ud3ec\ud568\ud55c-\uc5d0\uc774\uc804\ud2b8-\uc815\uc758",children:"Knowledge\ub97c \ud3ec\ud568\ud55c \uc5d0\uc774\uc804\ud2b8 \uc815\uc758"}),"\n",(0,t.jsxs)(n.p,{children:["\uc774\uc81c \ubca1\ud130 \uc2a4\ud1a0\uc5b4\uc640 \uc784\ubca0\ub529 \ubaa8\ub378\uc744 \ud1b5\ud569\ud558\ub294 ",(0,t.jsx)(n.code,{children:"Knowledge"})," \ubaa8\ub4c8\uacfc \ud568\uaed8 ",(0,t.jsx)(n.code,{children:"Agent"}),"\ub97c\n\uc0dd\uc131\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n","\n",(0,t.jsxs)(o,{groupId:"code-language",children:[(0,t.jsx)(a,{value:"python",label:"Python",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import asyncio\n\nimport ailoy as ai\n\n\nasync def prepare_knowledge():\n    ...\n\n\nasync def main(knowledge: ai.Knowledge):\n    # knowledge\ub97c \ud3ec\ud568\ud55c \uc5d0\uc774\uc804\ud2b8 \uc0dd\uc131\n    agent = ai.Agent(\n        await ai.LangModel.new_local("Qwen/Qwen3-0.6B"),\n        knowledge=knowledge,\n    )\n\nif __name__ == "__main__":\n    knowledge = asyncio.run(prepare_knowledge())\n    asyncio.run(main(knowledge))\n'})})}),(0,t.jsx)(a,{value:"javascript",label:"JavaScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import * as ai from "ailoy-node";\n\nasync function prepare_knowledge() {...}\n\nasync function main(knowledge: ai.Knowledge) {\n  // knowledge\ub97c \ud3ec\ud568\ud55c \uc5d0\uc774\uc804\ud2b8 \uc0dd\uc131\n  const agent = new ai.Agent(\n    await ai.LangModel.newLocal("Qwen/Qwen3-0.6B"),\n    undefined,  // tools (\uc5ec\uae30\uc11c\ub294 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c)\n    knowledge   // knowledge\n  );\n}\n\nprepare_knowledge()\n  .then((knowledge) => main(knowledge))\n  .catch((err) => {\n    console.error("Error:", err);\n  });\n'})})}),(0,t.jsx)(a,{value:"web",label:"JavaScript(Web)",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"web showLineNumbers",children:'import * as ai from "ailoy-web";\n\nasync function prepare_knowledge() {...}\n\nasync function main(knowledge: ai.Knowledge) {\n  // knowledge\ub97c \ud3ec\ud568\ud55c \uc5d0\uc774\uc804\ud2b8 \uc0dd\uc131\n  const agent = new ai.Agent(\n    await ai.LangModel.newLocal("Qwen/Qwen3-0.6B"),\n    undefined,  // tools (\uc5ec\uae30\uc11c\ub294 \uc0ac\uc6a9\ud558\uc9c0 \uc54a\uc74c)\n    knowledge   // knowledge\n  );\n}\n\nprepare_knowledge()\n  .then((knowledge) => main(knowledge))\n  .catch((err) => {\n    console.error("Error:", err);\n  });\n'})})})]}),"\n","\n",(0,t.jsx)(n.h3,{id:"rag-\uc218\ud589\ud558\uae30",children:"RAG \uc218\ud589\ud558\uae30"}),"\n",(0,t.jsx)(n.p,{children:"\uac80\uc0c9\uc744 \uc218\ud589\ud558\uace0 \uadfc\uac70 \uae30\ubc18 \uc751\ub2f5\uc744 \uc0dd\uc131\ud558\ub824\uba74:"}),"\n","\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["\ubaa8\ub4e0 \ubaa8\ub378\uc774 ",(0,t.jsx)(n.code,{children:"documents"}),"\ub97c \uae30\ubcf8\uc801\uc73c\ub85c \uc9c0\uc6d0\ud558\ub294 \uac83\uc740 \uc544\ub2d9\ub2c8\ub2e4.\n\uc774\ub7ec\ud55c \ubaa8\ub378\uc5d0\uc11c \uac80\uc0c9 \uae30\ubc18 \ucd94\ub860\uc744 \ud65c\uc131\ud654\ud558\ub824\uba74 \uc5d0\uc774\uc804\ud2b8\uc758 \ud504\ub86c\ud504\ud2b8 \uad6c\uc870\ub97c\n\uac80\uc0c9\ub41c \ubb38\uc11c\ub97c \ud3ec\ud568\ud558\ub3c4\ub85d \uc870\uc815\ud558\ub294 ",(0,t.jsx)(n.strong,{children:"\ubb38\uc11c \ud3f4\ub9ac\ud544"}),"\uc744 \uc801\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4."]})}),"\n",(0,t.jsxs)(o,{groupId:"code-language",children:[(0,t.jsx)(a,{value:"python",label:"Python",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import asyncio\n\nimport ailoy as ai\n\n\nasync def prepare_knowledge():\n    ...\n\n\nasync def main(knowledge: ai.Knowledge):\n    agent = ai.Agent(\n        await ai.LangModel.new_local("Qwen/Qwen3-0.6B"),\n        knowledge=knowledge,\n    )\n    config = ai.AgentConfig.from_dict({\n        # Qwen3\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \'documents\'\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \ud3f4\ub9ac\ud544\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\n        "inference": {"document_polyfill": "Qwen3"},\n        # \uc720\uc0ac\ub3c4\uac00 \ub192\uc740 \uc0c1\uc704 `top_k`\uac1c\uc758 \ubb38\uc11c\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4. \uae30\ubcf8\uac12 `top_k`=1\n        "knowledge": {"top_k": 1},\n    })\n    async for resp in agent.run("Why did the boy stop fishing with the old man?", config):\n        print(resp.message.contents[0].text)\n\nif __name__ == "__main__":\n    knowledge = asyncio.run(prepare_knowledge())\n    asyncio.run(main(knowledge))\n'})})}),(0,t.jsx)(a,{value:"javascript",label:"JavaScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import * as ai from "ailoy-node";\n\nasync function prepare_knowledge() {...}\n\nasync function main(knowledge: ai.Knowledge) {\n  const agent = new ai.Agent(\n    await ai.LangModel.newLocal("Qwen/Qwen3-0.6B"),\n    undefined,\n    knowledge\n  );\n  const config = {\n    // Qwen3\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \'documents\'\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \ud3f4\ub9ac\ud544\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\n    inference: { documentPolyfill: ai.getDocumentPolyfill("Qwen3") },\n    // \uc720\uc0ac\ub3c4\uac00 \ub192\uc740 \uc0c1\uc704 `topK`\uac1c\uc758 \ubb38\uc11c\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4. \uae30\ubcf8\uac12 `topK`=1\n    knowledge: { topK: 1 }\n  };\n  for await (const resp of agent.run(\n    "Why did the boy stop fishing with the old man?",\n    config\n  )) {\n    if (resp.message.contents?.[0]?.type === "text")\n      console.log(resp.message.contents?.[0]?.text);\n  }\n}\n\nprepare_knowledge()\n  .then((knowledge) => main(knowledge))\n  .catch((err) => {\n    console.error("Error:", err);\n  });\n'})})}),(0,t.jsx)(a,{value:"web",label:"JavaScript(Web)",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"web showLineNumbers",children:'import * as ai from "ailoy-web";\n\nasync function prepare_knowledge() {...}\n\nasync function main(knowledge: ai.Knowledge) {\n  const agent = new ai.Agent(\n    await ai.LangModel.newLocal("Qwen/Qwen3-0.6B"),\n    undefined,\n    knowledge\n  );\n  const config = {\n    // Qwen3\ub294 \uae30\ubcf8\uc801\uc73c\ub85c \'documents\'\ub97c \uc9c0\uc6d0\ud558\uc9c0 \uc54a\uc73c\ubbc0\ub85c \ud3f4\ub9ac\ud544\uc774 \ud544\uc694\ud569\ub2c8\ub2e4\n    inference: { documentPolyfill: ai.getDocumentPolyfill("Qwen3") },\n    // \uc720\uc0ac\ub3c4\uac00 \ub192\uc740 \uc0c1\uc704 `topK`\uac1c\uc758 \ubb38\uc11c\ub97c \uc0ac\uc6a9\ud558\ub3c4\ub85d \uc124\uc815\ud569\ub2c8\ub2e4. \uae30\ubcf8\uac12 `topK`=1\n    knowledge: { topK: 1 }\n  };\n  for await (const resp of agent.run(\n    "Why did the boy stop fishing with the old man?",\n    config\n  )) {\n    if (resp.message.contents?.[0]?.type === "text")\n      console.log(resp.message.contents?.[0]?.text);\n  }\n}\n\nprepare_knowledge()\n  .then((knowledge) => main(knowledge))\n  .catch((err) => {\n    console.error("Error:", err);\n  });\n'})})})]}),"\n","\n",(0,t.jsx)(n.h2,{id:"\uc804\uccb4-\uc608\uc81c",children:"\uc804\uccb4 \uc608\uc81c"}),"\n","\n",(0,t.jsxs)(o,{groupId:"code-language",children:[(0,t.jsx)(a,{value:"python",label:"Python",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import asyncio\n\nimport ailoy as ai\n\nCHUNKS = [\n    """\nHe was an old man who fished alone in a skiff in the Gulf Stream and he had gone\neighty-four days now without taking a fish. In the first forty days a boy had been with him.\nBut after forty days without a fish the boy\'s parents had told him that the old man was\nnow definitely and finally salao, which is the worst form of unlucky, and the boy had gone\nat their orders in another boat which caught three good fish the first week. It made the\nboy sad to see the old man come in each day with his skiff empty and he always went\ndown to help him carry either the coiled lines or the gaff and harpoon and the sail that\nwas furled around the mast. The sail was patched with flour sacks and, furled, it looked\nlike the flag of permanent defeat.\n""",\n    """\nThe old man was thin and gaunt with deep wrinkles in the back of his neck. The\nbrown blotches of the benevolent skin cancer the sun brings from its [9] reflection on the\ntropic sea were on his cheeks. The blotches ran well down the sides of his face and his\nhands had the deep-creased scars from handling heavy fish on the cords. But none of\nthese scars were fresh. They were as old as erosions in a fishless desert.\n""",\n    """\nEverything about him was old except his eyes and they were the same color as the\nsea and were cheerful and undefeated.\n"Santiago," the boy said to him as they climbed the bank from where the skiff was\nhauled up. "I could go with you again. We\'ve made some money."\nThe old man had taught the boy to fish and the boy loved him.\n"No," the old man said. "You\'re with a lucky boat. Stay with them."\n""",\n]\n\nasync def prepare_knowledge():\n    model = await ai.EmbeddingModel.new_local("BAAI/bge-m3")\n    vs = ai.VectorStore.new_faiss(1024)\n    for i, chunk in enumerate(CHUNKS):\n        embedding = await model.infer(chunk)\n        vs.add_vector(\n            ai.VectorStoreAddInput(\n                embedding, chunk, {"title": "The Old Man and the Sea", "index": i}\n            )\n        )\n\n    return ai.Knowledge.new_vector_store(vs, model)\n\n\nasync def main(knowledge: ai.Knowledge):\n    agent = ai.Agent(\n        await ai.LangModel.new_local("Qwen/Qwen3-0.6B"),\n        knowledge=knowledge,\n    )\n    config = ai.AgentConfig.from_dict({"inference": {"document_polyfill": "Qwen3"}})\n    async for resp in agent.run("Why did the boy stop fishing with the old man?", config):\n        print(resp.message.contents[0].text)\n\n\nif __name__ == "__main__":\n    knowledge = asyncio.run(prepare_knowledge())\n    asyncio.run(main(knowledge))\n'})})}),(0,t.jsx)(a,{value:"javascript",label:"JavaScript",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import * as ai from "ailoy-node";\n\nconst CHUNKS = [\n  `\nHe was an old man who fished alone in a skiff in the Gulf Stream and he had gone\neighty-four days now without taking a fish. In the first forty days a boy had been with him.\nBut after forty days without a fish the boy\'s parents had told him that the old man was\nnow definitely and finally salao, which is the worst form of unlucky, and the boy had gone\nat their orders in another boat which caught three good fish the first week. It made the\nboy sad to see the old man come in each day with his skiff empty and he always went\ndown to help him carry either the coiled lines or the gaff and harpoon and the sail that\nwas furled around the mast. The sail was patched with flour sacks and, furled, it looked\nlike the flag of permanent defeat.\n`,\n  `\nThe old man was thin and gaunt with deep wrinkles in the back of his neck. The\nbrown blotches of the benevolent skin cancer the sun brings from its [9] reflection on the\ntropic sea were on his cheeks. The blotches ran well down the sides of his face and his\nhands had the deep-creased scars from handling heavy fish on the cords. But none of\nthese scars were fresh. They were as old as erosions in a fishless desert.\n`,\n  `\nEverything about him was old except his eyes and they were the same color as the\nsea and were cheerful and undefeated.\n"Santiago," the boy said to him as they climbed the bank from where the skiff was\nhauled up. "I could go with you again. We\'ve made some money."\nThe old man had taught the boy to fish and the boy loved him.\n"No," the old man said. "You\'re with a lucky boat. Stay with them."\n`,\n];\n\nasync function prepare_knowledge() {\n  const model = await ai.EmbeddingModel.newLocal("BAAI/bge-m3");\n  const vs = await ai.VectorStore.newFaiss(1024);\n  for (const [i, chunk] of CHUNKS.entries()) {\n    const embedding = await model.infer(chunk);\n    await vs.addVector({\n      embedding: embedding,\n      document: chunk,\n      metadata: {\n        title: "The Old Man and the Sea",\n        index: i,\n      },\n    });\n  }\n\n  return ai.Knowledge.newVectorStore(vs, model);\n}\n\nasync function main(knowledge: ai.Knowledge) {\n  const agent = new ai.Agent(\n    await ai.LangModel.newLocal("Qwen/Qwen3-0.6B"),\n    undefined,\n    knowledge\n  );\n\n  const config = { inference: { documentPolyfill: ai.getDocumentPolyfill("Qwen3") } };\n  for await (const resp of agent.run(\n    "Why did the boy stop fishing with the old man?",\n    config\n  )) {\n    if (resp.message.contents?.[0]?.type === "text")\n      console.log(resp.message.contents?.[0]?.text);\n  }\n}\n\nprepare_knowledge()\n  .then((knowledge) => main(knowledge))\n  .catch((err) => {\n    console.error("Error:", err);\n  });\n'})})}),(0,t.jsx)(a,{value:"web",label:"JavaScript(Web)",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:"web showLineNumbers",children:'import * as ai from "ailoy-web";\n\nconst CHUNKS = [\n  `\nHe was an old man who fished alone in a skiff in the Gulf Stream and he had gone\neighty-four days now without taking a fish. In the first forty days a boy had been with him.\nBut after forty days without a fish the boy\'s parents had told him that the old man was\nnow definitely and finally salao, which is the worst form of unlucky, and the boy had gone\nat their orders in another boat which caught three good fish the first week. It made the\nboy sad to see the old man come in each day with his skiff empty and he always went\ndown to help him carry either the coiled lines or the gaff and harpoon and the sail that\nwas furled around the mast. The sail was patched with flour sacks and, furled, it looked\nlike the flag of permanent defeat.\n`,\n  `\nThe old man was thin and gaunt with deep wrinkles in the back of his neck. The\nbrown blotches of the benevolent skin cancer the sun brings from its [9] reflection on the\ntropic sea were on his cheeks. The blotches ran well down the sides of his face and his\nhands had the deep-creased scars from handling heavy fish on the cords. But none of\nthese scars were fresh. They were as old as erosions in a fishless desert.\n`,\n  `\nEverything about him was old except his eyes and they were the same color as the\nsea and were cheerful and undefeated.\n"Santiago," the boy said to him as they climbed the bank from where the skiff was\nhauled up. "I could go with you again. We\'ve made some money."\nThe old man had taught the boy to fish and the boy loved him.\n"No," the old man said. "You\'re with a lucky boat. Stay with them."\n`,\n];\n\nasync function prepare_knowledge() {\n  const model = await ai.EmbeddingModel.newLocal("BAAI/bge-m3");\n  const vs = await ai.VectorStore.newFaiss(1024);\n  for (const [i, chunk] of CHUNKS.entries()) {\n    const embedding = await model.infer(chunk);\n    await vs.addVector({\n      embedding: embedding,\n      document: chunk,\n      metadata: {\n        title: "The Old Man and the Sea",\n        index: i,\n      },\n    });\n  }\n\n  return ai.Knowledge.newVectorStore(vs, model);\n}\n\nasync function main(knowledge: ai.Knowledge) {\n  const agent = new ai.Agent(\n    await ai.LangModel.newLocal("Qwen/Qwen3-0.6B"),\n    undefined,\n    knowledge\n  );\n\n  const config = { inference: { documentPolyfill: ai.getDocumentPolyfill("Qwen3") } };\n  for await (const resp of agent.run(\n    "Why did the boy stop fishing with the old man?",\n    config\n  )) {\n    if (resp.message.contents?.[0]?.type === "text")\n      console.log(resp.message.contents?.[0]?.text);\n  }\n}\n\nprepare_knowledge()\n  .then((knowledge) => main(knowledge))\n  .catch((err) => {\n    console.error("Error:", err);\n  });\n'})})})]}),"\n","\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsx)(n.p,{children:"\ucd5c\uc0c1\uc758 \uacb0\uacfc\ub97c \uc704\ud574 \ubb38\uc11c\ub97c \uc758\ubbf8\uc801\uc73c\ub85c(\uc608: \ub2e8\ub77d\uc774\ub098 \uc139\uc158\ubcc4\ub85c) \uccad\ud0b9\ud558\uc138\uc694."})}),"\n","\n",(0,t.jsx)(n.h2,{id:"\ucd9c\ub825",children:"\ucd9c\ub825"}),"\n","\n",(0,t.jsx)(s,{children:(0,t.jsx)(n.p,{children:"The boy stopped fishing with the old man because he was with a lucky boat, not because he was in possession of a boat or because he was with the old man. The boy was with a boat, not a person. The old man had taught the boy to fish, and the boy loved him, but the reason for stopping fishing was related to the boat."})}),"\n"]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}function g(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>r});var o=a(6540);const t={},i=o.createContext(t);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);