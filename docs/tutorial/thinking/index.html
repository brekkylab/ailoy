<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorial/thinking" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Thinking | Build your AI Agents instantly</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://brekkylab.github.io/ailoy/docs/tutorial/thinking"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Thinking | Build your AI Agents instantly"><meta data-rh="true" name="description" content="Thinking (or reasoning) is an advanced capability of AI that enables it to"><meta data-rh="true" property="og:description" content="Thinking (or reasoning) is an advanced capability of AI that enables it to"><link data-rh="true" rel="icon" href="/ailoy/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://brekkylab.github.io/ailoy/docs/tutorial/thinking"><link data-rh="true" rel="alternate" href="https://brekkylab.github.io/ailoy/docs/tutorial/thinking" hreflang="en"><link data-rh="true" rel="alternate" href="https://brekkylab.github.io/ailoy/docs/tutorial/thinking" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Thinking","item":"https://brekkylab.github.io/ailoy/docs/tutorial/thinking"}]}</script><link rel="stylesheet" href="/ailoy/assets/css/styles.5037fb01.css">
<script src="/ailoy/assets/js/runtime~main.13242b4d.js" defer="defer"></script>
<script src="/ailoy/assets/js/main.0094acba.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>document.documentElement.setAttribute("data-theme","dark"),document.documentElement.setAttribute("data-theme-choice","dark"),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/ailoy/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/ailoy/"><div class="navbar__logo"><img src="/ailoy/img/logo.png" alt="Ailoy Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/ailoy/img/logo.png" alt="Ailoy Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Ailoy</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/ailoy/docs/tutorial/getting-started">Documents</a><a href="https://medium.com/ailoy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/brekkylab/ailoy" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--github-link"></a><a href="https://discord.gg/27rx3EJy3P" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar--discord-link"></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/ailoy/docs/tutorial/getting-started"><span title="Tutorial" class="categoryLinkLabel_W154">Tutorial</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/getting-started"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/system-message"><span title="System Message" class="linkLabel_WmDU">System Message</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/multi-turn-conversation"><span title="Multi-Turn Conversation" class="linkLabel_WmDU">Multi-Turn Conversation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/image-inputs"><span title="Image Inputs" class="linkLabel_WmDU">Image Inputs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/streaming"><span title="Streaming" class="linkLabel_WmDU">Streaming</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/ailoy/docs/tutorial/thinking"><span title="Thinking" class="linkLabel_WmDU">Thinking</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/using-tools"><span title="Using Tools" class="linkLabel_WmDU">Using Tools</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/mcp-integration"><span title="MCP Integration" class="linkLabel_WmDU">MCP Integration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/rag-using-documents"><span title="RAG Using Documents" class="linkLabel_WmDU">RAG Using Documents</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/managing-model-files"><span title="Managing Model Files" class="linkLabel_WmDU">Managing Model Files</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/ailoy/docs/tutorial/webassembly-supports"><span title="WebAssembly Supports" class="linkLabel_WmDU">WebAssembly Supports</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ailoy/docs/concepts/how-agent-works"><span title="Concepts" class="categoryLinkLabel_W154">Concepts</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/ailoy/docs/resources/available-models"><span title="Resources" class="categoryLinkLabel_W154">Resources</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a href="#" class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false"><span title="API References" class="categoryLinkLabel_W154">API References</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/ailoy/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Tutorial</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Thinking</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Thinking</h1></header>
<p>Thinking (or reasoning) is an advanced capability of AI that enables it to
tackle complex tasks through explicit, step-by-step logical inference. Thinking
models break down problems into smaller reasoning steps rather than solving them
in a single pass. Compared to direct answer generation, it offers two key
advantages:</p>
<ol>
<li class="">Improved problem-solving capability</li>
<li class="">Transparent and traceable intermediate thinking steps</li>
</ol>
<p>This functionality is particularly well-suited for domains that require
multi-step thinking, such as scientific analysis, legal interpretation, or
strategic decision-making. However, since the thinking step requires additional
computation and memory usage, it can increase latency and overall resource
consumption. Therefore, it’s important to use thinking only when necessary,
based on the complexity of your use case.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Small models like <code>Qwen3-0.6B</code> are generally too limited to perform effective
reasoning.<br>
<!-- -->For complex tasks, we recommend using a sufficiently large model.</p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="hybrid-thinking-models">Hybrid Thinking Models<a href="#hybrid-thinking-models" class="hash-link" aria-label="Direct link to Hybrid Thinking Models" title="Direct link to Hybrid Thinking Models" translate="no">​</a></h2>
<p>Some modern models, such as Qwen3, are designed as hybrid thinking models. These
models can switch between standard (direct-generation) and thinking modes based
on configuration settings.</p>
<p>Ailoy fully supports this hybrid capability. You can explicitly turn the
thinking process on or off via the thinking option. When enabled, the model
engages in structured, step-by-step inference—producing a detailed “thinking
trace” before the final answer.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="how-to-enable-thinking">How to Enable Thinking<a href="#how-to-enable-thinking" class="hash-link" aria-label="Direct link to How to Enable Thinking" title="Direct link to How to Enable Thinking" translate="no">​</a></h3>
<p>To enable thinking, simply specify the <code>think_effort</code> in the inference config
when running the agent.<br>
<!-- -->If you pass the inference config under the <code>inference</code> key within the agent
config, it will be passed to the internal <code>LangModel</code>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you enable thinking, the time required to generate an entire message can
increase quite a lot, which makes your application look less responsive, so it
may be better to run the agent with <strong><a class="" href="/ailoy/docs/tutorial/streaming">streaming</a></strong>.</p></div></div>
<div class="theme-tabs-container tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">JavaScript</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">JavaScript(Web)</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#e2e8f0;--prism-background-color:#282c34"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#e2e8f0;background-color:#282c34"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#ff7b72">import</span><span class="token plain"> asyncio</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7b72">import</span><span class="token plain"> ailoy </span><span class="token keyword" style="color:#ff7b72">as</span><span class="token plain"> ai</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7b72">async</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">def</span><span class="token plain"> </span><span class="token function" style="color:#d2a8ff">main</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    lm </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">await</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">LangModel</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">new_local</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token string" style="color:#a5d6ff">&quot;Qwen/Qwen3-4B&quot;</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    agent </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">Agent</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">lm</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    GREEN </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;\x1b[32m&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    RESET </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;\x1b[0m&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#ff7b72">async</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">for</span><span class="token plain"> resp </span><span class="token keyword" style="color:#ff7b72">in</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">run_delta</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token string" style="color:#a5d6ff">&quot;Please solve me a simultaneous equation: x+y=3, 4x+3y=12&quot;</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        config</span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain">ai</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">AgentConfig</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">inference</span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain">ai</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">InferenceConfig</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">think_effort</span><span class="token operator" style="color:#c9d1d9">=</span><span class="token string" style="color:#a5d6ff">&quot;enable&quot;</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#ff7b72">if</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">thinking</span><span class="token punctuation" style="color:#c9d1d9">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token comment" style="color:#8b949e;font-style:italic"># thinking text will be printed in green.</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#ff7b72">print</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">GREEN </span><span class="token operator" style="color:#c9d1d9">+</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">thinking </span><span class="token operator" style="color:#c9d1d9">+</span><span class="token plain"> RESET</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"> end</span><span class="token operator" style="color:#c9d1d9">=</span><span class="token string" style="color:#a5d6ff">&quot;&quot;</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token keyword" style="color:#ff7b72">if</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">contents </span><span class="token keyword" style="color:#ff7b72">and</span><span class="token plain"> </span><span class="token builtin" style="color:#ffa657">isinstance</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">contents</span><span class="token punctuation" style="color:#c9d1d9">[</span><span class="token number" style="color:#79c0ff">0</span><span class="token punctuation" style="color:#c9d1d9">]</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">PartDelta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">Text</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">            </span><span class="token keyword" style="color:#ff7b72">print</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">contents</span><span class="token punctuation" style="color:#c9d1d9">[</span><span class="token number" style="color:#79c0ff">0</span><span class="token punctuation" style="color:#c9d1d9">]</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"> end</span><span class="token operator" style="color:#c9d1d9">=</span><span class="token string" style="color:#a5d6ff">&quot;&quot;</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7b72">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#c9d1d9">==</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;__main__&quot;</span><span class="token punctuation" style="color:#c9d1d9">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    asyncio</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">run</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">main</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">)</span></span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#e2e8f0;--prism-background-color:#282c34"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#e2e8f0;background-color:#282c34"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#ff7b72">import</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">*</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">as</span><span class="token plain"> ai </span><span class="token keyword" style="color:#ff7b72">from</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;ailoy-node&quot;</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7b72">async</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">function</span><span class="token plain"> </span><span class="token function" style="color:#d2a8ff">main</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> lm </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">await</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">LangModel</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">newLocal</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token string" style="color:#a5d6ff">&quot;Qwen/Qwen3-4B&quot;</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> agent </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">new</span><span class="token plain"> </span><span class="token class-name" style="color:#ffa657">ai</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">Agent</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">lm</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> </span><span class="token constant" style="color:#79c0ff">GREEN</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;\x1b[32m&quot;</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> </span><span class="token constant" style="color:#79c0ff">RESET</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;\x1b[0m&quot;</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">for</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">await</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> resp </span><span class="token keyword" style="color:#ff7b72">of</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">runDelta</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#a5d6ff">&quot;Please solve me a simultaneous equation: x+y=3, 4x+3y=12&quot;</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"> inference</span><span class="token operator" style="color:#c9d1d9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"> thinkEffort</span><span class="token operator" style="color:#c9d1d9">:</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;enable&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#ff7b72">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">thinking </span><span class="token operator" style="color:#c9d1d9">!==</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">undefined</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token comment" style="color:#8b949e;font-style:italic">// thinking text will be printed in green.</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      process</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">stdout</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">write</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token constant" style="color:#79c0ff">GREEN</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">+</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">thinking </span><span class="token operator" style="color:#c9d1d9">+</span><span class="token plain"> </span><span class="token constant" style="color:#79c0ff">RESET</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#ff7b72">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">contents</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">length </span><span class="token operator" style="color:#c9d1d9">!==</span><span class="token plain"> </span><span class="token number" style="color:#79c0ff">0</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">&amp;&amp;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">contents</span><span class="token punctuation" style="color:#c9d1d9">[</span><span class="token number" style="color:#79c0ff">0</span><span class="token punctuation" style="color:#c9d1d9">]</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">type </span><span class="token operator" style="color:#c9d1d9">===</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;text&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      process</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">stdout</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">write</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">contents</span><span class="token punctuation" style="color:#c9d1d9">[</span><span class="token number" style="color:#79c0ff">0</span><span class="token punctuation" style="color:#c9d1d9">]</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:#d2a8ff">main</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">catch</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token builtin" style="color:#ffa657">console</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">error</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token string" style="color:#a5d6ff">&quot;Error:&quot;</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span></span><br></span></code></pre></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#e2e8f0;--prism-background-color:#282c34"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#e2e8f0;background-color:#282c34"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm" style="counter-reset:line-count 0"><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token keyword" style="color:#ff7b72">import</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">*</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">as</span><span class="token plain"> ai </span><span class="token keyword" style="color:#ff7b72">from</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;ailoy-web&quot;</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token keyword" style="color:#ff7b72">async</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">function</span><span class="token plain"> </span><span class="token function" style="color:#d2a8ff">main</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> lm </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">await</span><span class="token plain"> ai</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">LangModel</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">newLocal</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token string" style="color:#a5d6ff">&quot;Qwen/Qwen3-4B&quot;</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    progressCallback</span><span class="token operator" style="color:#c9d1d9">:</span><span class="token plain"> </span><span class="token builtin" style="color:#ffa657">console</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">log</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> agent </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">new</span><span class="token plain"> </span><span class="token class-name" style="color:#ffa657">ai</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">Agent</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">lm</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> </span><span class="token constant" style="color:#79c0ff">GREEN</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;\x1b[32m&quot;</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> </span><span class="token constant" style="color:#79c0ff">RESET</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">=</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;\x1b[0m&quot;</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token keyword" style="color:#ff7b72">for</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">await</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token keyword" style="color:#ff7b72">const</span><span class="token plain"> resp </span><span class="token keyword" style="color:#ff7b72">of</span><span class="token plain"> agent</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">runDelta</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token string" style="color:#a5d6ff">&quot;Please solve me a simultaneous equation: x+y=3, 4x+3y=12&quot;</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"> inference</span><span class="token operator" style="color:#c9d1d9">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"> thinkEffort</span><span class="token operator" style="color:#c9d1d9">:</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;enable&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#ff7b72">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">thinking </span><span class="token operator" style="color:#c9d1d9">!==</span><span class="token plain"> </span><span class="token keyword" style="color:#ff7b72">undefined</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token comment" style="color:#8b949e;font-style:italic">// thinking text will be printed in green.</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token builtin" style="color:#ffa657">console</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">log</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token constant" style="color:#79c0ff">GREEN</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">+</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">thinking </span><span class="token operator" style="color:#c9d1d9">+</span><span class="token plain"> </span><span class="token constant" style="color:#79c0ff">RESET</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token keyword" style="color:#ff7b72">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">contents</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">length </span><span class="token operator" style="color:#c9d1d9">!==</span><span class="token plain"> </span><span class="token number" style="color:#79c0ff">0</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">&amp;&amp;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">contents</span><span class="token punctuation" style="color:#c9d1d9">[</span><span class="token number" style="color:#79c0ff">0</span><span class="token punctuation" style="color:#c9d1d9">]</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">type </span><span class="token operator" style="color:#c9d1d9">===</span><span class="token plain"> </span><span class="token string" style="color:#a5d6ff">&quot;text&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token builtin" style="color:#ffa657">console</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">log</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">resp</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">delta</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">contents</span><span class="token punctuation" style="color:#c9d1d9">[</span><span class="token number" style="color:#79c0ff">0</span><span class="token punctuation" style="color:#c9d1d9">]</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token function" style="color:#d2a8ff">main</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">catch</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token plain"> </span><span class="token operator" style="color:#c9d1d9">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#c9d1d9">{</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token builtin" style="color:#ffa657">console</span><span class="token punctuation" style="color:#c9d1d9">.</span><span class="token function" style="color:#d2a8ff">error</span><span class="token punctuation" style="color:#c9d1d9">(</span><span class="token string" style="color:#a5d6ff">&quot;Error:&quot;</span><span class="token punctuation" style="color:#c9d1d9">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#e2e8f0"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token punctuation" style="color:#c9d1d9">}</span><span class="token punctuation" style="color:#c9d1d9">)</span><span class="token punctuation" style="color:#c9d1d9">;</span></span><br></span></code></pre></div></div></div></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="adjusting-thinking-effort">Adjusting Thinking Effort<a href="#adjusting-thinking-effort" class="hash-link" aria-label="Direct link to Adjusting Thinking Effort" title="Direct link to Adjusting Thinking Effort" translate="no">​</a></h2>
<p>The <code>think_effort</code> option determines <strong>how much reasoning power the model uses</strong>
before giving an answer. Increasing this value enhances logical and systematic
thinking, but also consumes more time and resources. You can think of it as a
balance between <strong>intelligence</strong> and <strong>budget or responsiveness</strong>:</p>
<p>In short:</p>
<ul>
<li class="">Higher <code>think_effort</code> → smarter but slower.</li>
<li class="">Lower <code>think_effort</code> → faster but shallower.</li>
</ul>
<p><code>think_effort</code> can have one of these in the config:</p>
<ul>
<li class=""><code>&quot;disable&quot;</code></li>
<li class=""><code>&quot;enable&quot;</code></li>
<li class=""><code>&quot;low&quot;</code></li>
<li class=""><code>&quot;medium&quot;</code></li>
<li class=""><code>&quot;high&quot;</code></li>
</ul>
<p>But not all models are hybrid thinking models or capable of fine-grained
adjustment of thinking effort.<br>
<!-- -->Therefore, depending on the characteristics of the model, <code>think_effort</code> may
actually be applied differently from the specified value without explicit
warning.</p>
<p>For example,</p>
<ul>
<li class="">OpenAI&#x27;s <code>gpt-4</code> model does not support thinking, so it will be applied as
<code>&quot;disable&quot;</code> regardless of which value is applied.</li>
<li class="">OpenAI&#x27;s <code>o4</code> model supports <code>&quot;low&quot;</code>, <code>&quot;medium&quot;</code>, <code>&quot;high&quot;</code> but not
<code>&quot;disable&quot;</code>, so if &quot;disable&quot; is specified, it will be applied as <code>&quot;low&quot;</code>.</li>
<li class="">The <code>grok-4-fast</code> model only supports <code>&quot;low&quot;</code> or <code>&quot;high&quot;</code>, so if <code>&quot;medium&quot;</code> is
specified, it will be applied as <code>&quot;low&quot;</code>.</li>
<li class="">All Qwen3 models do not support adjusting <code>think_effort</code>, so any value other
than <code>&quot;disable&quot;</code> will be equivalent to <code>&quot;enable&quot;</code>.</li>
</ul>
<p>The <code>think_effort</code> is applied as the most similar one to what the user specified
within the supported range, but you&#x27;d better to check the model specification
for predictable model behavior.</p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/ailoy/docs/tutorial/streaming"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Streaming</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/ailoy/docs/tutorial/using-tools"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using Tools</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#hybrid-thinking-models" class="table-of-contents__link toc-highlight">Hybrid Thinking Models</a><ul><li><a href="#how-to-enable-thinking" class="table-of-contents__link toc-highlight">How to Enable Thinking</a></li></ul></li><li><a href="#adjusting-thinking-effort" class="table-of-contents__link toc-highlight">Adjusting Thinking Effort</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title"></div><ul class="footer__items clean-list"><li class="footer__item"><img src="/ailoy/img/ailoy-logo-letter.png" width="200px"></li><li class="footer__item"><a class="footer__link-item" href="mailto:contact@brekkylab.com">contact@brekkylab.com</a></li><li class="footer__item"><p>Copyright © 2025 Brekkylab, Inc.</p></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/ailoy/docs/tutorial/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/ailoy/api-references/python/index.html" target="_blank" rel="noopener noreferrer">Python API References</a></li><li class="footer__item"><a class="footer__link-item" href="/ailoy/api-references/nodejs/index.html" target="_blank" rel="noopener noreferrer">Javascript(Node.js) API References</a></li><li class="footer__item"><a class="footer__link-item" href="/ailoy/api-references/js-web/index.html" target="_blank" rel="noopener noreferrer">Javascript(Web) API References</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/brekkylab/ailoy" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/27rx3EJy3P" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/ailoy_co" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/107147231" target="_blank" rel="noopener noreferrer" class="footer__link-item">Linkedin<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://medium.com/ailoy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div></div></footer></div>
</body>
</html>