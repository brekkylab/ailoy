"use strict";(self.webpackChunkailoy_docs=self.webpackChunkailoy_docs||[]).push([[9793],{5042:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"tutorial/using-tools","title":"Using Tools","description":"One of the most powerful features in Ailoy is the tool-calling system. It allows","source":"@site/docs/tutorial/using-tools.mdx","sourceDirName":"tutorial","slug":"/tutorial/using-tools","permalink":"/ailoy/docs/tutorial/using-tools","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"documentSidebar","previous":{"title":"Thinking","permalink":"/ailoy/docs/tutorial/thinking"},"next":{"title":"MCP Integration","permalink":"/ailoy/docs/tutorial/mcp-integration"}}');var r=o(4848),s=o(8453);const a={},i="Using Tools",l={},c=[{value:"Using Tools",id:"using-tools-1",level:2},{value:"Defining the Tool Description",id:"defining-the-tool-description",level:3},{value:"Defining the Tool Behavior",id:"defining-the-tool-behavior",level:3},{value:"Registering the Tool with the Agent",id:"registering-the-tool-with-the-agent",level:3},{value:"Auto-generate Tool Description (only in Python)",id:"auto-generate-tool-description-only-in-python",level:3},{value:"Complete Example",id:"complete-example",level:3},{value:"Output",id:"output",level:3},{value:"Using Builtin Tools",id:"using-builtin-tools",level:2},{value:"Creating the Tool",id:"creating-the-tool",level:3},{value:"Registering the Tool",id:"registering-the-tool",level:3},{value:"Complete Example",id:"complete-example-1",level:3},{value:"Output",id:"output-1",level:3}];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components},{Details:o,TabItem:t,Tabs:a,TerminalBox:i}=n;return o||u("Details",!0),t||u("TabItem",!0),a||u("Tabs",!0),i||u("TerminalBox",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"using-tools",children:"Using Tools"})}),"\n",(0,r.jsx)(n.p,{children:"One of the most powerful features in Ailoy is the tool-calling system. It allows\nyou to extend your LLM\u2019s capabilities by connecting it to external tools or\nAPIs. This way, the agent can access real-time or domain-specific information,\neven if it wasn\u2019t part of the model\u2019s training data."}),"\n",(0,r.jsxs)(n.p,{children:["To use a tool, two components must be defined: ",(0,r.jsx)(n.strong,{children:"Tool Description"})," and ",(0,r.jsx)(n.strong,{children:"Tool\nBehavior"}),"."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Please refer to the ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/ailoy/docs/concepts/architecture#tool",children:"Architecture"})}),"\nsection for more about the tool architecture."]})}),"\n",(0,r.jsxs)(n.p,{children:["Let's explore how to make a ",(0,r.jsx)(n.em,{children:"tool-aware agent"})," in Ailoy."]}),"\n",(0,r.jsx)(n.h2,{id:"using-tools-1",children:"Using Tools"}),"\n",(0,r.jsxs)(n.p,{children:["In this example, we\u2019ll use the ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://frankfurter.dev/",children:"Frankfurter API"})}),"\nto enable your agent to look up real-time currency exchange rates."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Ailoy also supports ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://modelcontextprotocol.io/",children:"MCP"})})," as a tool.\nPlease refer to the ",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"/ailoy/docs/tutorial/mcp-integration",children:"MCP Integration"})})," section for\nusing MCP tools."]})}),"\n",(0,r.jsx)(n.h3,{id:"defining-the-tool-description",children:"Defining the Tool Description"}),"\n",(0,r.jsx)(n.p,{children:"A tool description defines how the tool is exposed to the model. It includes the\ntool\u2019s name, purpose, parameters, and optionally its return types. This schema\nhelps the model understand how to invoke the tool correctly."}),"\n",(0,r.jsx)(n.p,{children:"Parameters are typically expressed in JSON Schema format."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Refer to\n",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://platform.openai.com/docs/guides/function-calling#defining-functions",children:"OpenAI's documentation"})}),"\nor\n",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://huggingface.co/docs/transformers/main/en/chat_templating_writing#tool-definitions",children:"Hunggingface's documentation"})}),"\nfor more details on defining tools in JSON Schema format."]})}),"\n",(0,r.jsxs)(a,{groupId:"code-language",children:[(0,r.jsx)(t,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import ailoy as ai\n\ntool_desc = ai.ToolDesc(\n    name="frankfurter",\n    description="Get the latest currency exchange rates of target currencies based on the \'base\' currency",\n    parameters={\n        "type": "object",\n        "properties": {\n            "base": {\n                "type": "string",\n                "description": "The ISO 4217 currency code to be the divider of the currency rate to be got."\n            },\n            "symbols": {\n                "type": "string",\n                "description": "The target ISO 4217 currency codes separated by comma."\n            }\n        },\n    }\n)\n'})})}),(0,r.jsx)(t,{value:"javascript",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'const tool_desc: ToolDesc = {\n  name: "frankfurter",\n  description:\n    "Get the latest currency exchange rates of target currencies based on the \'base\' currency",\n  parameters: {\n    type: "object",\n    properties: {\n      base: {\n        type: "string",\n        description:\n          "The ISO 4217 currency code to be the divider of the currency rate to be got.",\n      },\n      symbols: {\n        type: "string",\n        description: "The target ISO 4217 currency codes separated by comma.",\n      },\n    },\n  },\n};\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"defining-the-tool-behavior",children:"Defining the Tool Behavior"}),"\n",(0,r.jsx)(n.p,{children:"A tool behavior defines what the tool actually does when invoked. It represents\nthe executable logic that runs when the model calls the tool."}),"\n",(0,r.jsx)(n.p,{children:"The function receives the parameters specified in the tool description and\nreturns a result that matches the expected schema."}),"\n",(0,r.jsx)(n.p,{children:"When the agent runs, the model decides when and how to invoke this function\nbased on the conversation context and the provided tool description."}),"\n",(0,r.jsxs)(a,{groupId:"code-language",children:[(0,r.jsx)(t,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'def tool_behavior(base, symbols):\n    if not base:\n        raise ValueError("Missing \'base\'")\n    if not symbols:\n        raise ValueError("Missing \'symbols\'")\n\n    query = parse.urlencode({"from": base, "to": symbols})\n    url = f"https://api.frankfurter.app/latest?{query}"\n\n    try:\n        with request.urlopen(url, timeout=10) as resp:\n            if resp.status != 200:\n                raise RuntimeError(f"Frankfurter API returned HTTP {resp.status}")\n            payload = json.loads(resp.read().decode("utf-8"))\n    except error.URLError as e:\n        raise RuntimeError(f"Failed to reach Frankfurter API: {e}") from e\n    except json.JSONDecodeError as e:\n        raise RuntimeError("Failed to parse Frankfurter API response as JSON.") from e\n\n    return payload\n'})})}),(0,r.jsx)(t,{value:"javascript",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'async function toolBehavior(args) {\n  const { base, symbols } = args;\n  if (!base) {\n    throw new Error("Missing \'base\'");\n  }\n  if (!symbols) {\n    throw new Error("Missing \'symbols\'");\n  }\n\n  const params = new URLSearchParams({ from: base, to: symbols });\n  const url = `https://api.frankfurter.app/latest?${params.toString()}`;\n\n  let resp;\n  try {\n    resp = await fetch(url, { timeout: 10000 });\n  } catch (err) {\n    throw new Error(`Failed to reach Frankfurter API: ${err.message}`);\n  }\n\n  if (!resp.ok) {\n    throw new Error(`Frankfurter API returned HTTP ${resp.status}`);\n  }\n\n  try {\n    return await resp.json();\n  } catch {\n    throw new Error("Failed to parse Frankfurter API response as JSON.");\n  }\n}\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"registering-the-tool-with-the-agent",children:"Registering the Tool with the Agent"}),"\n",(0,r.jsx)(n.p,{children:"Once a tool is defined, the Agent automatically detects when the model wants to\ninvoke it and executes the corresponding function during the next iteration."}),"\n",(0,r.jsxs)(n.p,{children:["You can register a tool by passing it to the ",(0,r.jsx)(n.code,{children:"Agent"})," constructor."]}),"\n",(0,r.jsxs)(a,{groupId:"code-language",children:[(0,r.jsx)(t,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'lm = await ai.LangModel.new_local("Qwen/Qwen3-4B")\ntools = [ai.Tool.new_py_function(tool_behavior, tool_desc)]\nagent = ai.Agent(lm, tools)\n'})})}),(0,r.jsx)(t,{value:"javascript",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'const lm = await ai.LangModel.newLocal("Qwen/Qwen3-4B");\nconst tools = [ai.Tool.newFunction(toolDesc, toolBehavior)];\nconst agent = new ai.Agent(lm, tools);\n'})})})]}),"\n",(0,r.jsxs)(n.p,{children:["Alternatively, you can register the tools ",(0,r.jsx)(n.strong,{children:"after"})," creating the agent by using\nthe ",(0,r.jsx)(n.code,{children:"add_tool"})," or ",(0,r.jsx)(n.code,{children:"add_tools"})," methods."]}),"\n",(0,r.jsxs)(a,{groupId:"code-language",children:[(0,r.jsx)(t,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"agent = ...\n\n# Add a single tool\ntool = ai.Tool.new_py_function(...)\nagent.add_tool(tool)\n\n# Add multiple tools\ntool1 = ai.Tool.new_py_function(...)\ntool2 = ai.Tool.new_py_function(...)\nagent.add_tools([tool1, tool2])\n"})})}),(0,r.jsx)(t,{value:"javascript",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:"const agent = ...\n\n// Add a single tool\nconst tool = ai.Tool.newFunction(...);\nagent.addTool(tool);\n\n// Add multiple tools\nconst tool1 = ai.Tool.newFunction(...);\nconst tool2 = ai.Tool.newFunction(...);\nagent.addTools([tool1, tool2]);\n"})})})]}),"\n",(0,r.jsxs)(n.p,{children:["You can check which tool the agent invoked and what result it produced from the\nresponse returned by ",(0,r.jsx)(n.code,{children:"agent.run()"})," or ",(0,r.jsx)(n.code,{children:"agent.run_delta()"}),". The ",(0,r.jsx)(n.code,{children:"agent.run()"}),"\nfunction includes a field called ",(0,r.jsx)(n.code,{children:"tool_calls"}),". If this field contains any\nvalues, it indicates that the LLM\u2019s output has triggered one or more ",(0,r.jsx)(n.strong,{children:"tool\ncalls"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"auto-generate-tool-description-only-in-python",children:"Auto-generate Tool Description (only in Python)"}),"\n",(0,r.jsxs)(n.p,{children:["You can access a function\u2019s metadata in Python through its function object.",(0,r.jsx)(n.br,{}),"\n","This allows Ailoy to automatically generate tool descriptions from the\nfunction\u2019s parameter type hints and its docstring."]}),"\n",(0,r.jsxs)(n.p,{children:["Similarly to libraries like\n",(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.a,{href:"https://huggingface.co/docs/transformers/v4.57.1/en/chat_extras#passing-tools",children:"transformers"})}),",\nAiloy can automatically create a tool description when you define a Tool from a\nPython function that includes both ",(0,r.jsx)(n.em,{children:"Google-style docstrings"})," and type hints for\nits parameters.",(0,r.jsx)(n.br,{}),"\n","In this case, you don\u2019t need to manually create a ",(0,r.jsx)(n.code,{children:"ToolDesc"}),"."]}),"\n",(0,r.jsxs)(o,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.strong,{children:"See example Python code"})}),(0,r.jsx)(a,{groupId:"code-language",children:(0,r.jsx)(t,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'def frankfurter(base: str, symbols: str):\n    """\n        Get the latest currency exchange rates of target currencies based on the \'base\' currency\n\n        Args:\n            base: The ISO 4217 currency code to be the divider of the currency rate to be got.\n            unit: The target ISO 4217 currency codes separated by comma.\n    """\n\n    if not base:\n        raise ValueError("Missing \'base\'")\n    if not symbols:\n        raise ValueError("Missing \'symbols\'")\n\n    query = parse.urlencode({"from": base, "to": symbols})\n    url = f"https://api.frankfurter.app/latest?{query}"\n\n    try:\n        with request.urlopen(url, timeout=10) as resp:\n            if resp.status != 200:\n                raise RuntimeError(f"Frankfurter API returned HTTP {resp.status}")\n            payload = json.loads(resp.read().decode("utf-8"))\n    except error.URLError as e:\n        raise RuntimeError(f"Failed to reach Frankfurter API: {e}") from e\n    except json.JSONDecodeError as e:\n        raise RuntimeError("Failed to parse Frankfurter API response as JSON.") from e\n\n    return payload\n\ntool = ai.Tool.new_py_function(tool_behavior)  # don\'t need to provide `tool_desc` here\n# tool = ai.Tool.new_py_function(tool_behavior, tool_desc)  # if you provide, it will override\nagent.add_tool(tool)\n'})})})})]}),"\n",(0,r.jsx)(n.h3,{id:"complete-example",children:"Complete Example"}),"\n",(0,r.jsxs)(a,{groupId:"code-language",children:[(0,r.jsx)(t,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import asyncio\nimport json\nfrom urllib import error, parse, request\n\nimport ailoy as ai\n\ntool_desc = ai.ToolDesc(\n    name="frankfurter",\n    description="Get the latest currency exchange rates of target currencies based on the \'base\' currency",\n    parameters={\n        "type": "object",\n        "properties": {\n            "base": {\n                "type": "string",\n                "description": "The ISO 4217 currency code to be the divider of the currency rate to be got.",\n            },\n            "symbols": {\n                "type": "string",\n                "description": "The target ISO 4217 currency codes separated by comma.",\n            },\n        },\n    },\n)\n\n\ndef tool_behavior(base, symbols):\n    if not base:\n        raise ValueError("Missing \'base\'")\n    if not symbols:\n        raise ValueError("Missing \'symbols\'")\n\n    query = parse.urlencode({"from": base, "to": symbols})\n    url = f"https://api.frankfurter.app/latest?{query}"\n\n    try:\n        with request.urlopen(url, timeout=10) as resp:\n            if resp.status != 200:\n                raise RuntimeError(f"Frankfurter API returned HTTP {resp.status}")\n            payload = json.loads(resp.read().decode("utf-8"))\n    except error.URLError as e:\n        raise RuntimeError(f"Failed to reach Frankfurter API: {e}") from e\n    except json.JSONDecodeError as e:\n        raise RuntimeError("Failed to parse Frankfurter API response as JSON.") from e\n\n    return payload\n\n\nasync def main():\n    lm = await ai.LangModel.new_local("Qwen/Qwen3-4B", None, progress_callback=print)\n    tools = [ai.Tool.new_py_function(tool_behavior, tool_desc)]\n    agent = ai.Agent(lm, tools)\n    query = "I want to buy 250 U.S. Dollar and 350 Chinese Yuan with my Korean Won. How much do I need to take? Get the currency data if you need."\n    print("Query:", query, "\\n")\n    async for resp in agent.run(query):\n        if resp.message.role == "assistant":\n            if len(resp.message.tool_calls) > 0:\n                print("Tool call:", resp.message.tool_calls[0].function, "\\n")\n            else:\n                print(resp.message.contents[0].text, "\\n")\n        elif resp.message.role == "tool":\n            print("Tool response:", resp.message.contents[0].value, "\\n")\n\n\nif __name__ == "__main__":\n    asyncio.run(main())\n'})})}),(0,r.jsx)(t,{value:"javascript",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import * as ai from "ailoy-node";\n\nconst toolDesc = {\n  name: "frankfurter",\n  description:\n    "Get the latest currency exchange rates of target currencies based on the \'base\' currency",\n  parameters: {\n    type: "object",\n    properties: {\n      base: {\n        type: "string",\n        description:\n          "The ISO 4217 currency code to be the divider of the currency rate to be got.",\n      },\n      symbols: {\n        type: "string",\n        description: "The target ISO 4217 currency codes separated by comma.",\n      },\n    },\n  },\n};\n\nasync function toolBehavior(args) {\n  const { base, symbols } = args;\n  if (!base) {\n    throw new Error("Missing \'base\'");\n  }\n  if (!symbols) {\n    throw new Error("Missing \'symbols\'");\n  }\n\n  const params = new URLSearchParams({ from: base, to: symbols });\n  const url = `https://api.frankfurter.app/latest?${params.toString()}`;\n\n  let resp;\n  try {\n    resp = await fetch(url, { timeout: 10000 });\n  } catch (err) {\n    throw new Error(`Failed to reach Frankfurter API: ${err.message}`);\n  }\n\n  if (!resp.ok) {\n    throw new Error(`Frankfurter API returned HTTP ${resp.status}`);\n  }\n\n  try {\n    return await resp.json();\n  } catch {\n    throw new Error("Failed to parse Frankfurter API response as JSON.");\n  }\n}\n\nasync function main() {\n  const lm = await ai.LangModel.newLocal(\n    "Qwen/Qwen3-4B",\n    undefined,\n    console.log\n  );\n  const tools = [ai.Tool.newFunction(toolDesc, toolBehavior)];\n  const agent = new ai.Agent(lm, tools);\n  const query =\n    "I want to buy 250 U.S. Dollar and 350 Chinese Yuan with my Korean Won. How much do I need to take? Get the currency data if you need.";\n  for await (const resp of agent.run(query)) {\n    if (resp.message.role === "assistant") {\n      if (resp.message.tool_calls?.length > 0) {\n        console.log("Tool call:", resp.message.tool_calls[0].function, "\\n");\n      } else {\n        console.log(resp.message.contents[0].text, "\\n");\n      }\n    } else if (resp.message.role === "tool") {\n      console.log("Tool response:", resp.message.contents[0].value, "\\n");\n    }\n  }\n}\n\nmain().catch((err) => {\n  console.error("Error:", err);\n});\n'})})}),(0,r.jsx)(t,{value:"web",label:"JavaScript(Web)",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"web showLineNumbers",children:'import * as ai from "ailoy-web";\n\nconst toolDesc = {\n  name: "frankfurter",\n  description:\n    "Get the latest currency exchange rates of target currencies based on the \'base\' currency",\n  parameters: {\n    type: "object",\n    properties: {\n      base: {\n        type: "string",\n        description:\n          "The ISO 4217 currency code to be the divider of the currency rate to be got.",\n      },\n      symbols: {\n        type: "string",\n        description: "The target ISO 4217 currency codes separated by comma.",\n      },\n    },\n  },\n};\n\nasync function toolBehavior(args) {\n  const { base, symbols } = args;\n  if (!base) {\n    throw new Error("Missing \'base\'");\n  }\n  if (!symbols) {\n    throw new Error("Missing \'symbols\'");\n  }\n\n  const params = new URLSearchParams({ from: base, to: symbols });\n  const url = `https://api.frankfurter.app/latest?${params.toString()}`;\n\n  let resp;\n  try {\n    resp = await fetch(url, { timeout: 10000 });\n  } catch (err) {\n    throw new Error(`Failed to reach Frankfurter API: ${err.message}`);\n  }\n\n  if (!resp.ok) {\n    throw new Error(`Frankfurter API returned HTTP ${resp.status}`);\n  }\n\n  try {\n    return await resp.json();\n  } catch {\n    throw new Error("Failed to parse Frankfurter API response as JSON.");\n  }\n}\n\nasync function main() {\n  const lm = await ai.LangModel.newLocal(\n    "Qwen/Qwen3-4B",\n    undefined,\n    console.log\n  );\n  const tools = [ai.Tool.newFunction(toolDesc, toolBehavior)];\n  const agent = new ai.Agent(lm, tools);\n  const query =\n    "I want to buy 250 U.S. Dollar and 350 Chinese Yuan with my Korean Won. How much do I need to take? Get the currency data if you need.";\n  for await (const resp of agent.run(query)) {\n    if (resp.message.role === "assistant") {\n      if (resp.message.tool_calls?.length > 0) {\n        console.log("Tool call:", resp.message.tool_calls[0].function, "\\n");\n      } else {\n        console.log(resp.message.contents[0].text, "\\n");\n      }\n    } else if (resp.message.role === "tool") {\n      console.log("Tool response:", resp.message.contents[0].value, "\\n");\n    }\n  }\n}\n\nmain().catch((err) => {\n  console.error("Error:", err);\n});\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"output",children:"Output"}),"\n",(0,r.jsx)(n.p,{children:"You can see that the agent uses the Frankfurter API to include real-time\nexchange rate information in its response."}),"\n",(0,r.jsx)(n.p,{children:"Here's what the output will look like:"}),"\n","\n",(0,r.jsx)(i,{children:'Query: I want to buy 250 U.S. Dollar and 350 Chinese Yuan with my Korean Won. How much do I need to take?\n\nTool call: frankfurter(symbols="USD,CNY", base="KRW")\n\nTool response: {"CNY": 0.00518, "USD": 0.00072}\n\nTo buy 250 U.S. Dollars (USD) and 350 Chinese Yuan (CNY) using Korean Won (KRW), you need to calculate the total amount of KRW required based on the exchange rates:\n\n- **1 USD = 0.00072 KRW**\n- **1 CNY = 0.00518 KRW**\n\n### Calculation:\n- **For USD**:  \n$ 250 \\, \\text{USD} \\times \\frac{1}{0.00072} = 250 \\times 1388.89 = 347,222.22 \\, \\text{KRW} $\n\n- **For CNY**:  \n$ 350 \\, \\text{CNY} \\times \\frac{1}{0.00518} = 350 \\times 193.18 = 67,613.39 \\, \\text{KRW} $\n\n### Total:\n- **KRW needed**: $ 347,222.22 + 67,613.39 = 414,835.61 \\, \\text{KRW} $\n\nYou will need approximately **414,835.61 KRW** to buy 250 USD and 350 CNY.'}),"\n","\n",(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsx)(n.p,{children:"Keep in mind: Tools are not free \u2014 every token counts."}),(0,r.jsx)(n.p,{children:"Excessive tool usage can cause large amounts of information for the AI to\nprocess, potentially leading to longer context lengths and decreased\nperformance."}),(0,r.jsx)(n.p,{children:"Each tool call consumes tokens. API calls may lead to unexpected costs, while\non-device models can slow down your machine or even cause crashes."}),(0,r.jsx)(n.p,{children:"To avoid inefficiency, use only the tools you need and keep the chat context\nfocused and concise."})]}),"\n",(0,r.jsx)(n.h2,{id:"using-builtin-tools",children:"Using Builtin Tools"}),"\n",(0,r.jsx)(n.p,{children:"Ailoy provides several builtin tools out-of-the-box. You don't need to define\ntool description and behavior to use these tools."}),"\n",(0,r.jsxs)(n.p,{children:["See ",(0,r.jsx)(n.a,{href:"/ailoy/docs/resources/builtin-tools",children:(0,r.jsx)(n.strong,{children:"Resources > Builtin Tools"})})," for the list\nof available builtin tools."]}),"\n",(0,r.jsx)(n.h3,{id:"creating-the-tool",children:"Creating the Tool"}),"\n",(0,r.jsxs)(n.p,{children:["In this example, we use ",(0,r.jsx)(n.code,{children:"terminal"})," tool to execute shell commands."]}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Note that ",(0,r.jsx)(n.code,{children:"terminal"})," tool is not available on web environment."]})}),"\n",(0,r.jsx)(n.p,{children:"You can create the builtin tool as follow:"}),"\n",(0,r.jsxs)(a,{groupId:"code-language",children:[(0,r.jsx)(t,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import ailoy as ai\n\ntool = ai.Tool.new_builtin("terminal")\n'})})}),(0,r.jsx)(t,{value:"javascript",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import * as ai from "ailoy-node";\n\nconst tool = ai.Tool.newBuiltin("terminal");\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"registering-the-tool",children:"Registering the Tool"}),"\n",(0,r.jsxs)(a,{groupId:"code-language",children:[(0,r.jsx)(t,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:"agent = ...\n\nagent.add_tool(tool)\n"})})}),(0,r.jsx)(t,{value:"javascript",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:"const agent = ...\n\nagent.addTool(tool);\n"})})})]}),"\n",(0,r.jsx)(n.h3,{id:"complete-example-1",children:"Complete Example"}),"\n",(0,r.jsxs)(a,{groupId:"code-language",children:[(0,r.jsx)(t,{value:"python",label:"Python",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import asyncio\n\nimport ailoy as ai\n\n\nasync def main():\n    lm = await ai.LangModel.new_local("Qwen/Qwen3-4B", None, progress_callback=print)\n    agent = ai.Agent(lm)\n\n    tool = ai.Tool.new_builtin("terminal")\n    agent.add_tool(tool)\n\n    query = "List the files and directories in the home directory."\n    print(f"Query: {query}\\n")\n    async for resp in agent.run(query):\n        if resp.message.role == "assistant":\n            if len(resp.message.tool_calls) > 0:\n                print("Tool call:", resp.message.tool_calls[0].function, "\\n")\n            else:\n                print(resp.message.contents[0].text, "\\n")\n        elif resp.message.role == "tool":\n            print("Tool response:", resp.message.contents[0].value, "\\n")\n\n\nif __name__ == "__main__":\n    asyncio.run(main())\n'})})}),(0,r.jsx)(t,{value:"javascript",label:"JavaScript",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import * as ai from "ailoy-node";\n\nasync function main() {\n  const lm = await ai.LangModel.newLocal(\n    "Qwen/Qwen3-4B",\n    undefined,\n    console.log\n  );\n  const agent = new ai.Agent(lm);\n\n  const tool = ai.Tool.newBuiltin("terminal");\n  const query = "List the files and directories in the home directory.";\n  console.log(query);\n  for await (const resp of agent.run(query)) {\n    if (resp.message.role === "assistant") {\n      if (resp.message.tool_calls?.length > 0) {\n        console.log("Tool call:", resp.message.tool_calls[0].function, "\\n");\n      } else {\n        console.log(resp.message.contents[0].text, "\\n");\n      }\n    } else if (resp.message.role === "tool") {\n      console.log("Tool response:", resp.message.contents[0].value, "\\n");\n    }\n  }\n}\n\nmain().catch((err) => {\n  console.error("Error:", err);\n});\n'})})})]}),"\n",(0,r.jsx)(n.h3,{id:"output-1",children:"Output"}),"\n","\n",(0,r.jsx)(i,{children:"\nList the files and directories in the current directory, including hidden files.\nTool call: { name: 'terminal', arguments: { command: 'ls -a' } } \n\nTool response: {\nstdout: '.\\n' +\n  '..\\n' +\n  '.env.template\\n' +\n  '.gitignore\\n' +\n  '.prettierrc.json\\n' +\n  'npm\\n' +\n  'package-lock.json\\n' +\n  'package.json\\n' +\n  'README.md\\n' +\n  'scripts\\n' +\n  'src\\n' +\n  'tests\\n' +\n  'tsconfig.json\\n' +\n  'typedoc.json\\n' +\n  'vite.config.ts\\n' +\n  'vitest.config.ts\\n',\nstderr: '',\nexit_code: 0\n} \n\nThe files and directories in the current directory, including hidden ones, are as follows:\n\n- `.` (current directory)\n- `..` (parent directory)\n- `.env.template`\n- `.gitignore`\n- `.prettierrc.json`\n- `npm`\n- `package-lock.json`\n- `package.json`\n- `README.md`\n- `scripts`\n- `src`\n- `tests`\n- `tsconfig.json`\n- `typedoc.json`\n- `vite.config.ts`\n- `vitest.config.ts` \n"}),"\n"]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}function u(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);