"use strict";(self.webpackChunkailoy_docs=self.webpackChunkailoy_docs||[]).push([[2045],{8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>i});var t=s(6540);const a={},r=t.createContext(a);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(r.Provider,{value:n},e.children)}},8909:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"tutorial/system-message","title":"System Message","description":"A system message defines the global behavior, tone, or role of the agent. It","source":"@site/docs/tutorial/system-message.mdx","sourceDirName":"tutorial","slug":"/tutorial/system-message","permalink":"/ailoy/docs/tutorial/system-message","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"documentSidebar","previous":{"title":"Getting Started","permalink":"/ailoy/docs/tutorial/getting-started"},"next":{"title":"Multi-Turn Conversation","permalink":"/ailoy/docs/tutorial/multi-turn-conversation"}}');var a=s(4848),r=s(8453);const o={},i="System Message",l={},c=[{value:"Example",id:"example",level:2},{value:"Notes",id:"notes",level:2}];function m(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{TabItem:s,Tabs:t,TerminalBox:o}=n;return s||g("TabItem",!0),t||g("Tabs",!0),o||g("TerminalBox",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"system-message",children:"System Message"})}),"\n",(0,a.jsxs)(n.p,{children:["A ",(0,a.jsx)(n.strong,{children:"system message"})," defines the global behavior, tone, or role of the agent. It\nprovides the language model with high-level instructions such as ",(0,a.jsx)(n.em,{children:"\u201cYou are a\nhelpful assistant\u201d"})," or ",(0,a.jsx)(n.em,{children:"\u201cAnswer concisely in JSON format.\u201d"})]}),"\n",(0,a.jsx)(n.p,{children:"System messages guide how the model interprets subsequent user inputs and how it\nshould respond. They are usually placed at the very beginning of the message\narray, before any user or assistant messages."}),"\n",(0,a.jsx)(n.p,{children:"One can override this system message by explicitly including their own in the\nfirst element of the messages array."}),"\n","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "role": "system",\n    "contents": [\n      {\n        "type": "text",\n        "text": "You are an assistant who always speaks like a pirate."\n      }\n    ]\n  },\n  {\n    "role": "user",\n    "contents": [\n      {\n        "type": "text",\n        "text": "Explain how memory management works in Rust."\n      }\n    ]\n  }\n]\n'})}),"\n","\n",(0,a.jsx)(n.p,{children:"The model will now respond according to the pirate persona instead of the\ndefault neutral assistant style:"}),"\n","\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n  "role": "assistant",\n  "contents": [\n    {\n      "type": "text",\n      "text": "Arrr, matey! In Rust, the seas be ruled by ownership and borrowing. Each variable be owning its treasure, and when it sails out of scope, the booty be dropped overboard \u2014 no garbage crew needed!"\n    }\n  ]\n}\n'})}),"\n","\n",(0,a.jsx)(n.p,{children:"The LM uses a system message defined by the developer instead of its internal\ndefault, allowing developers to fully customize the model\u2019s tone, persona, and\ntask-specific behavior."}),"\n",(0,a.jsx)(n.h2,{id:"example",children:"Example"}),"\n","\n",(0,a.jsxs)(t,{groupId:"code-language",children:[(0,a.jsx)(s,{value:"python",label:"Python",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-python",metastring:"showLineNumbers",children:'import asyncio\n\nimport ailoy as ai\n\n\nasync def main():\n    lm = await ai.LangModel.new_local("Qwen/Qwen3-0.6B")\n    agent = ai.Agent(lm)\n\n    messages = [\n        ai.Message(\n            role="system",\n            # If only one text part in `contents`, it can be written as a single string.\n            contents="You are an assistant who always speaks like a pirate.",\n        ),\n        ai.Message(\n            role="user",\n            # In general, `contents` are written as a list of `Part`.\n            contents=[\n                ai.Part.Text(text="Explain how memory management works in Rust.")\n            ],\n        ),\n    ]\n    async for resp in agent.run(messages):\n        if isinstance(resp.message.contents[0], ai.Part.Text):\n            print(resp.message.contents[0].text)\n\n\nif __name__ == "__main__":\n    asyncio.run(main())\n'})})}),(0,a.jsx)(s,{value:"javascript",label:"JavaScript",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:"showLineNumbers",children:'import * as ai from "ailoy-node";\n\nasync function main() {\n  const lm = await ai.LangModel.newLocal("Qwen/Qwen3-0.6B");\n  const agent = new ai.Agent(lm);\n  const messages = [\n    {\n      role: "system",\n      // If only one text part in `contents`, it can be written as a single string.\n      contents: "You are an assistant who always speaks like a pirate.",\n    },\n    {\n      role: "user",\n      // In general, `contents` are written as a list of `Part`.\n      contents: [\n        { type: "text", text: "Explain how memory management works in Rust." },\n      ],\n    },\n  ] as ai.Messages;\n  for await (const resp of agent.run(messages)) {\n    if (resp.message.contents[0].type === "text") {\n      console.log(resp.message.contents[0].text);\n    }\n  }\n}\n\nmain().catch((err) => {\n  console.error("Error:", err);\n});\n'})})}),(0,a.jsx)(s,{value:"web",label:"JavaScript(Web)",children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-typescript",metastring:"web showLineNumbers",children:'import * as ai from "ailoy-web";\n\nasync function main() {\n  const lm = await ai.LangModel.newLocal("Qwen/Qwen3-0.6B");\n  const agent = new ai.Agent(lm);\n  const messages = [\n    {\n      role: "system",\n      // If only one text part in `contents`, it can be written as a single string.\n      contents: "You are an assistant who always speaks like a pirate.",\n    },\n    {\n      role: "user",\n      // In general, `contents` are written as a list of `Part`.\n      contents: [\n        { type: "text", text: "Explain how memory management works in Rust." },\n      ],\n    },\n  ] as ai.Messages;\n  for await (const resp of agent.run(messages)) {\n    if (resp.message.contents[0].type === "text") {\n      console.log(resp.message.contents[0].text);\n    }\n  }\n}\n\nmain().catch((err) => {\n  console.error("Error:", err);\n});\n'})})})]}),"\n","\n",(0,a.jsx)(o,{children:"Arrr, matey! In Rust, the seas be ruled by ownership and borrowing. Each variable be owning its treasure, and when it sails out of scope, the booty be dropped overboard \u2014 no garbage crew needed!"}),"\n",(0,a.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["Always place the system message as ",(0,a.jsx)(n.strong,{children:"the first message in the sequence"}),".\nPlacing it elsewhere may cause errors or undefined behavior."]}),"\n",(0,a.jsx)(n.li,{children:"The system message affects all subsequent responses within the same\nconversation."}),"\n",(0,a.jsx)(n.li,{children:"To reset or change the system behavior during session, start a new\nconversation or explicitly include a new system message at the beginning of a\nnew message list."}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}function g(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);